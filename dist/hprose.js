// Hprose for WeChat App v2.0.0
// Copyright (c) 2008-2016 http://hprose.com
// Hprose is freely distributable under the MIT license.
// For all details and documentation:
// https://github.com/hprose/hprose-wx

function TimeoutError(e){Error.call(this),this.message=e,this.name=TimeoutError.name,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,TimeoutError)}var hprose=Object.create(null);!function(e){"use strict";function t(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return function(t){return e.apply(t,Array.prototype.slice.call(arguments,1))}}function r(e,r){for(var n=e.prototype,i=0,a=r.length;i<a;i++){var u=r[i],o=n[u];"function"==typeof o&&"undefined"==typeof e[u]&&Object.defineProperty(e,u,{value:t(o)})}}function n(e){for(var t=e.length,r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function i(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var t=e.length;if(t<65535)return String.fromCharCode.apply(String,s(e));for(var r=32767&t,n=t>>15,i=new Array(r?n+1:n),a=0;a<n;++a)i[a]=String.fromCharCode.apply(String,s(e.subarray(a<<15,a+1<<15)));return r&&(i[n]=String.fromCharCode.apply(String,s(e.subarray(n<<15,t)))),i.join("")}function a(e){var t=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),r=e.match(t),n=r[4].split(":",2);return{protocol:r[1],host:r[4],hostname:n[0],port:parseInt(n[1],10)||0,path:r[5],query:r[7],fragment:r[9]}}function u(e){if(e){var t;for(t in e)return!1}return!0}Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),r=this,n=function(){},i=function(){return r.apply(this instanceof n?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(n.prototype=this.prototype),i.prototype=new n,i}),r(Array,["pop","push","reverse","shift","sort","splice","unshift","concat","join","slice","indexOf","lastIndexOf","filter","forEach","every","map","some","reduce","reduceRight","includes","find","findIndex"]),r(String,["quote","substring","toLowerCase","toUpperCase","charAt","charCodeAt","indexOf","lastIndexOf","include","startsWith","endsWith","repeat","trim","trimLeft","trimRight","toLocaleLowerCase","toLocaleUpperCase","match","search","replace","split","substr","concat","slice"]);var o=!0;try{String.fromCharCode.apply(String,new Uint8Array([1]))}catch(e){o=!1}var s=o?function(e){return e}:n;e.generic=t,e.toBinaryString=i,e.parseuri=a,e.isObjectEmpty=u}(hprose),TimeoutError.prototype=Object.create(Error.prototype),TimeoutError.prototype.constructor=TimeoutError,function(e){"use strict";function t(e){var t=Array.prototype.slice.call(arguments,1);return function(){e.apply(void 0,t)}}function r(e){var t=a[e];if(t)try{t()}finally{delete a[e]}}function n(e){return a[i]=t.apply(void 0,e),i++}var i=1,a={};e.setImmediate=function(){return function(){var e=n(arguments);return setTimeout(t(r,e),0),e}}(),e.clearImmediate=function(e){delete a[e]}}(hprose),function(e){"use strict";function t(e){var t=Object.create(null),r=e.valueOf;Object.defineProperty(e,"valueOf",{value:function(n,i){return this===e&&i in o&&o[i]===n?(i in t||(t[i]=Object.create(null)),t[i]):r.apply(this,arguments)},writable:!0,configurable:!0,enumerable:!1})}function r(){var e=Object.create(null),n=s++;o[n]=e;var i=function(r){if(r!==Object(r))throw new Error("value is not a non-null object");var i=r.valueOf(e,n);return i!==r.valueOf()?i:(t(r),r.valueOf(e,n))},a=Object.create(r.prototype,{get:{value:function(e){return i(e).value}},set:{value:function(e,t){i(e).value=t}},has:{value:function(e){return"value"in i(e)}},delete:{value:function(e){return delete i(e).value}},clear:{value:function(){delete o[n],n=s++,o[n]=e}}});if(arguments.length>0&&Array.isArray(arguments[0]))for(var u=arguments[0],c=0,f=u.length;c<f;c++)a.set(u[c][0],u[c][1]);return a}function n(){var e=Object.create(null),r=s++,n=Object.create(null);o[r]=e;var i=function(i){if(null===i)return n;var a=i.valueOf(e,r);return a!==i.valueOf()?a:(t(i),i.valueOf(e,r))};return{get:function(e){return i(e).value},set:function(e,t){i(e).value=t},has:function(e){return"value"in i(e)},delete:function(e){return delete i(e).value},clear:function(){delete o[r],r=s++,o[r]=e}}}function i(){var e=Object.create(null);return{get:function(){return e.value},set:function(t,r){e.value=r},has:function(){return"value"in e},delete:function(){return delete e.value},clear:function(){e=Object.create(null)}}}function a(){var e=Object.create(null);return{get:function(t){return e[t]},set:function(t,r){e[t]=r},has:function(t){return t in e},delete:function(t){return delete e[t]},clear:function(){e=Object.create(null)}}}function u(){var e={number:a(),string:a(),boolean:a(),object:n(),function:n(),unknown:n(),undefined:i(),null:i()},t=0,r=[],o=Object.create(u.prototype,{size:{get:function(){return t}},get:{value:function(t){return e[typeof t].get(t)}},set:{value:function(n,i){this.has(n)||(r.push(n),t++),e[typeof n].set(n,i)}},has:{value:function(t){return e[typeof t].has(t)}},delete:{value:function(n){return!!this.has(n)&&(t--,r.splice(r.indexOf(n),1),e[typeof n].delete(n))}},clear:{value:function(){r.length=0;for(var n in e)e[n].clear();t=0}},forEach:{value:function(e,t){for(var n=0,i=r.length;n<i;n++)e.call(t,this.get(r[n]),r[n],this)}}});if(arguments.length>0&&Array.isArray(arguments[0]))for(var s=arguments[0],c=0,f=s.length;c<f;c++)o.set(s[c][0],s[c][1]);return o}var o=Object.create(null),s=0;return"function"==typeof Map&&"function"==typeof WeakMap?(e.Map=Map,void(e.WeakMap=WeakMap)):(e.Map=u,void(e.WeakMap=r))}(hprose),function(e,t){"use strict";function r(e){var t=this;Object.defineProperties(t,{_subscribers:{value:[]},resolve:{value:this.resolve.bind(t)},reject:{value:this.reject.bind(t)}}),"function"==typeof e&&J(function(){try{t.resolve(e())}catch(e){t.reject(e)}})}function n(e){return e instanceof r}function i(e){return"function"==typeof e.then}function a(e,t){var n="function"==typeof t?t:function(){return t},i=new r;return setTimeout(function(){try{i.resolve(n())}catch(e){i.reject(e)}},e),i}function u(e){var t=new r;return t.reject(e),t}function o(e){var t=new r;return t.resolve(e),t}function s(e){try{var t=e();return o(t)}catch(e){return u(e)}}function c(e){var t=new r;return e(t.resolve,t.reject),t}function f(e){var t=0;return Array.forEach(e,function(){++t}),t}function l(e){return e=i(e)?e:o(e),e.then(function(e){var t=e.length,n=f(e),i=new Array(t);if(0===n)return o(i);var a=new r;return Array.forEach(e,function(e,t){S(e).then(function(e){i[t]=e,0===--n&&a.resolve(i)},a.reject)}),a})}function h(){return l(arguments)}function g(e){return e=i(e)?e:o(e),e.then(function(e){var t=new r;return Array.forEach(e,function(e){S(e).fill(t)}),t})}function v(e){return e=i(e)?e:o(e),e.then(function(e){var t=e.length,n=f(e);if(0===n)throw new RangeError("any(): array must not be empty");var i=new Array(t),a=new r;return Array.forEach(e,function(e,t){S(e).then(a.resolve,function(e){i[t]=e,0===--n&&a.reject(i)})}),a})}function y(e){return e=i(e)?e:o(e),e.then(function(e){var t=e.length,n=f(e),i=new Array(t);if(0===n)return o(i);var a=new r;return Array.forEach(e,function(e,t){var r=S(e);r.whenComplete(function(){i[t]=r.inspect(),0===--n&&a.resolve(i)})}),a})}function p(e){var t=function(){return this}(),r=Array.slice(arguments,1);return l(r).then(function(r){return e.apply(t,r)})}function w(e,t){var r=Array.slice(arguments,2);return l(r).then(function(r){return e.apply(t,r)})}function d(e){return!!e&&("function"==typeof e.next&&"function"==typeof e.throw)}function T(e){if(!e)return!1;var t=e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName||d(t.prototype))}function b(e){return function(r,n){return r instanceof Error?e.reject(r):arguments.length<2?e.resolve(r):(n=null===r||r===t?Array.slice(arguments,1):Array.slice(arguments,0),void(1==n.length?e.resolve(n[0]):e.resolve(n)))}}function m(e){if(T(e)||d(e))return O(e);var t=function(){return this}(),n=new r;return e.call(t,b(n)),n}function _(e){return function(){var t=Array.slice(arguments,0),n=this,i=new r;t.push(function(){n=this,i.resolve(arguments)});try{e.apply(this,t)}catch(e){i.resolve([e])}return function(e){i.then(function(t){e.apply(n,t)})}}}function B(e){return function(){var t=Array.slice(arguments,0),n=new r;t.push(b(n));try{e.apply(this,t)}catch(e){n.reject(e)}return n}}function S(e){return e?i(e)?e:T(e)||d(e)?O(e):o(e):o(e)}function O(e){function t(t){try{i(e.next(t))}catch(e){o.reject(e)}}function n(t){try{i(e.throw(t))}catch(e){return o.reject(e)}}function i(e){e.done?o.resolve(e.value):("function"==typeof e.value?m(e.value):S(e.value)).then(t,n)}var a=function(){return this}();if("function"==typeof e){var u=Array.slice(arguments,1);e=e.apply(a,u)}var o=new r;return e&&"function"==typeof e.next?(t(),o):o.resolve(e)}function A(e,t){return function(){return t=t||this,l(arguments).then(function(r){var n=e.apply(t,r);return T(n)||d(n)?O.call(t,n):n})}}function E(e,t,r){return r=r||function(){return this}(),l(e).then(function(e){return e.forEach(t,r)})}function j(e,t,r){return r=r||function(){return this}(),l(e).then(function(e){return e.every(t,r)})}function C(e,t,r){return r=r||function(){return this}(),l(e).then(function(e){return e.some(t,r)})}function k(e,t,r){return r=r||function(){return this}(),l(e).then(function(e){return e.filter(t,r)})}function R(e,t,r){return r=r||function(){return this}(),l(e).then(function(e){return e.map(t,r)})}function U(e,t,r){return arguments.length>2?l(e).then(function(e){return i(r)||(r=o(r)),r.then(function(r){return e.reduce(t,r)})}):l(e).then(function(e){return e.reduce(t)})}function x(e,t,r){return arguments.length>2?l(e).then(function(e){return i(r)||(r=o(r)),r.then(function(r){return e.reduceRight(t,r)})}):l(e).then(function(e){return e.reduceRight(t)})}function I(e,t,r){return l(e).then(function(e){return i(t)||(t=o(t)),t.then(function(t){return e.indexOf(t,r)})})}function F(e,r,n){return l(e).then(function(e){return i(r)||(r=o(r)),r.then(function(r){return n===t&&(n=e.length-1),e.lastIndexOf(r,n)})})}function M(e,t,r){return l(e).then(function(e){return i(t)||(t=o(t)),t.then(function(t){return e.includes(t,r)})})}function N(e,t,r){return r=r||function(){return this}(),l(e).then(function(e){return e.find(t,r)})}function P(e,t,r){return r=r||function(){return this}(),l(e).then(function(e){return e.findIndex(t,r)})}function W(e,t,r){J(function(){try{var n=e(r);t.resolve(n)}catch(e){t.reject(e)}})}function L(e,t,r){e?W(e,t,r):t.resolve(r)}function D(e,t,r){e?W(e,t,r):t.reject(r)}function H(){var e=new r;Object.defineProperties(this,{future:{value:e},complete:{value:e.resolve},completeError:{value:e.reject},isCompleted:{get:function(){return e._state!==Q}}})}function z(e){r.call(this),e(this.resolve,this.reject)}var Q=0,q=1,G=2,J=e.setImmediate;return Object.defineProperties(r,{delayed:{value:a},error:{value:u},sync:{value:s},value:{value:o},all:{value:l},race:{value:g},resolve:{value:o},reject:{value:u},promise:{value:c},isFuture:{value:n},isPromise:{value:i},toPromise:{value:S},join:{value:h},any:{value:v},settle:{value:y},attempt:{value:p},run:{value:w},thunkify:{value:_},promisify:{value:B},co:{value:O},wrap:{value:A},forEach:{value:E},every:{value:j},some:{value:C},filter:{value:k},map:{value:R},reduce:{value:U},reduceRight:{value:x},indexOf:{value:I},lastIndexOf:{value:F},includes:{value:M},find:{value:N},findIndex:{value:P}}),Object.defineProperties(r.prototype,{_value:{writable:!0},_reason:{writable:!0},_state:{value:Q,writable:!0},resolve:{value:function(e){if(e===this)return void this.reject(new TypeError("Self resolution"));if(n(e))return void e.fill(this);if(null!==e&&"object"==typeof e||"function"==typeof e){var t;try{t=e.then}catch(e){return void this.reject(e)}if("function"==typeof t){var r=!0;try{var i=this;return void t.call(e,function(e){r&&(r=!1,i.resolve(e))},function(e){r&&(r=!1,i.reject(e))})}catch(e){r&&(r=!1,this.reject(e))}return}}if(this._state===Q){this._state=q,this._value=e;for(var a=this._subscribers;a.length>0;){var u=a.shift();L(u.onfulfill,u.next,e)}}}},reject:{value:function(e){if(this._state===Q){this._state=G,this._reason=e;for(var t=this._subscribers;t.length>0;){var r=t.shift();D(r.onreject,r.next,e)}}}},then:{value:function(e,t){"function"!=typeof e&&(e=null),"function"!=typeof t&&(t=null);var n=new r;return this._state===q?L(e,n,this._value):this._state===G?D(t,n,this._reason):this._subscribers.push({onfulfill:e,onreject:t,next:n}),n}},done:{value:function(e,t){this.then(e,t).then(null,function(e){J(function(){throw e})})}},inspect:{value:function(){switch(this._state){case Q:return{state:"pending"};case q:return{state:"fulfilled",value:this._value};case G:return{state:"rejected",reason:this._reason}}}},catchError:{value:function(e,t){if("function"==typeof t){var r=this;return this.catch(function(n){if(t(n))return r.catch(e);throw n})}return this.catch(e)}},catch:{value:function(e){return this.then(null,e)}},fail:{value:function(e){this.done(null,e)}},whenComplete:{value:function(e){return this.then(function(t){return e(),t},function(t){throw e(),t})}},complete:{value:function(e){return e=e||function(e){return e},this.then(e,e)}},always:{value:function(e){this.done(e,e)}},fill:{value:function(e){this.then(e.resolve,e.reject)}},timeout:{value:function(e,t){var n=new r,i=setTimeout(function(){n.reject(t||new TimeoutError("timeout"))},e);return this.whenComplete(function(){clearTimeout(i)}).fill(n),n}},delay:{value:function(e){var t=new r;return this.then(function(r){setTimeout(function(){t.resolve(r)},e)},t.reject),t}},tap:{value:function(e,t){return this.then(function(r){return e.call(t,r),r})}},spread:{value:function(e,t){return this.then(function(r){return e.apply(t,r)})}},get:{value:function(e){return this.then(function(t){return t[e]})}},set:{value:function(e,t){return this.then(function(r){return r[e]=t,r})}},apply:{value:function(e,t){return t=t||[],this.then(function(r){return l(t).then(function(t){return r[e].apply(r,t)})})}},call:{value:function(e){var t=Array.slice(arguments,1);return this.then(function(r){return l(t).then(function(t){return r[e].apply(r,t)})})}},bind:{value:function(e){var t=Array.slice(arguments);{if(!Array.isArray(e)){t.shift();var r=this;return Object.defineProperty(this,e,{value:function(){var n=Array.slice(arguments);return r.then(function(r){return l(t.concat(n)).then(function(t){return r[e].apply(r,t)})})}}),this}for(var n=0,i=e.length;n<i;++n)t[0]=e[n],this.bind.apply(this,t)}}},forEach:{value:function(e,t){return E(this,e,t)}},every:{value:function(e,t){return j(this,e,t)}},some:{value:function(e,t){return C(this,e,t)}},filter:{value:function(e,t){return k(this,e,t)}},map:{value:function(e,t){return R(this,e,t)}},reduce:{value:function(e,t){return arguments.length>1?U(this,e,t):U(this,e)}},reduceRight:{value:function(e,t){return arguments.length>1?x(this,e,t):x(this,e)}},indexOf:{value:function(e,t){return I(this,e,t)}},lastIndexOf:{value:function(e,t){return F(this,e,t)}},includes:{value:function(e,t){return M(this,e,t)}},find:{value:function(e,t){return N(this,e,t)}},findIndex:{value:function(e,t){return P(this,e,t)}}}),e.Future=r,e.thunkify=_,e.promisify=B,e.co=O,e.co.wrap=e.wrap=A,e.Completer=H,e.resolved=o,e.rejected=u,e.deferred=function(){var e=new r;return Object.create(null,{promise:{value:e},resolve:{value:e.resolve},reject:{value:e.reject}})},"function"==typeof Promise?void(e.Promise=Promise):(z.prototype=Object.create(r.prototype),z.prototype.constructor=r,Object.defineProperties(z,{all:{value:l},race:{value:g},resolve:{value:o},reject:{value:u}}),void(e.Promise=z))}(hprose),function(e,t){"use strict";function r(e,t,r){return e[t++]=r>>>24&255,e[t++]=r>>>16&255,e[t++]=r>>>8&255,e[t++]=255&r,t}function n(e,t,r){return e[t++]=255&r,e[t++]=r>>>8&255,e[t++]=r>>>16&255,e[t++]=r>>>24&255,t}function i(e,t,r){for(var n=r.length,i=0;i<n;++i){var a=r.charCodeAt(i);if(a<128)e[t++]=a;else if(a<2048)e[t++]=192|a>>6,e[t++]=128|63&a;else{if(!(a<55296||a>57343)){if(i+1<n){var u=r.charCodeAt(i+1);if(a<56320&&56320<=u&&u<=57343){var o=((1023&a)<<10|1023&u)+65536;e[t++]=240|o>>18,e[t++]=128|o>>12&63,e[t++]=128|o>>6&63,e[t++]=128|63&o,++i;continue}}throw new Error("Malformed string")}e[t++]=224|a>>12,e[t++]=128|a>>6&63,e[t++]=128|63&a}}return t}function a(e,t){for(var r=new Array(t),n=0,i=0,a=e.length;n<t&&i<a;n++){var u=e[i++];switch(u>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:r[n]=u;break;case 12:case 13:if(i<a){r[n]=(31&u)<<6|63&e[i++];break}throw new Error("Unfinished UTF-8 octet sequence");case 14:if(i+1<a){r[n]=(15&u)<<12|(63&e[i++])<<6|63&e[i++];break}throw new Error("Unfinished UTF-8 octet sequence");case 15:if(i+2<a){var o=((7&u)<<18|(63&e[i++])<<12|(63&e[i++])<<6|63&e[i++])-65536;if(0<=o&&o<=1048575){r[n++]=o>>10&1023|55296,r[n]=1023&o|56320;break}throw new Error("Character outside valid Unicode range: 0x"+o.toString(16))}throw new Error("Unfinished UTF-8 octet sequence");default:throw new Error("Bad UTF-8 encoding 0x"+u.toString(16))}}return n<t&&(r.length=n),[String.fromCharCode.apply(String,r),i]}function u(e,t){for(var r=[],n=new Array(32768),i=0,a=0,u=e.length;i<t&&a<u;i++){var o=e[a++];switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:n[i]=o;break;case 12:case 13:if(a<u){n[i]=(31&o)<<6|63&e[a++];break}throw new Error("Unfinished UTF-8 octet sequence");case 14:if(a+1<u){n[i]=(15&o)<<12|(63&e[a++])<<6|63&e[a++];break}throw new Error("Unfinished UTF-8 octet sequence");case 15:if(a+2<u){var s=((7&o)<<18|(63&e[a++])<<12|(63&e[a++])<<6|63&e[a++])-65536;if(0<=s&&s<=1048575){n[i++]=s>>10&1023|55296,n[i]=1023&s|56320;break}throw new Error("Character outside valid Unicode range: 0x"+s.toString(16))}throw new Error("Unfinished UTF-8 octet sequence");default:throw new Error("Bad UTF-8 encoding 0x"+o.toString(16))}if(i>=32766){var c=i+1;n.length=c,r.push(String.fromCharCode.apply(String,n)),t-=c,i=-1}}return i>0&&(n.length=i,r.push(String.fromCharCode.apply(String,n))),[r.join(""),a]}function o(e,r){return(r===t||null===r||r<0)&&(r=e.length),0===r?["",0]:r<65535?a(e,r):u(e,r)}function s(e,r){if(r===t&&(r=e.length),0===r)return[g,0];for(var n=0,i=0,a=e.length;n<r&&i<a;n++){var u=e[i++];switch(u>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:break;case 12:case 13:if(i<a){i++;break}throw new Error("Unfinished UTF-8 octet sequence");case 14:if(i+1<a){i+=2;break}throw new Error("Unfinished UTF-8 octet sequence");case 15:if(i+2<a){var o=((7&u)<<18|(63&e[i++])<<12|(63&e[i++])<<6|63&e[i++])-65536;if(0<=o&&o<=1048575){n++;break}throw new Error("Character outside valid Unicode range: 0x"+o.toString(16))}throw new Error("Unfinished UTF-8 octet sequence");default:throw new Error("Bad UTF-8 encoding 0x"+u.toString(16))}}return[e.subarray(0,i),i]}function c(e){return--e,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e+1}function f(){var e=arguments;switch(e.length){case 1:switch(e[0].constructor){case Uint8Array:this._bytes=e[0],this._length=e[0].length;break;case f:this._bytes=e[0].toBytes(),this._length=e[0].length;break;case String:this.writeString(e[0]);break;case Number:this._bytes=new Uint8Array(e[0]);break;default:this._bytes=new Uint8Array(e[0]),this._length=this._bytes.length}break;case 2:this._bytes=new Uint8Array(e[0],e[1]),this._length=e[1];break;case 3:this._bytes=new Uint8Array(e[0],e[1],e[2]),this._length=e[2]}this.mark()}function l(e){if(0===e.length)return"";switch(e.constructor){case String:return e;case f:e=e.bytes;case ArrayBuffer:e=new Uint8Array(e);case Uint8Array:return o(e,e.length)[0];default:return String.fromCharCode.apply(String,e)}}var h=e.toBinaryString,g=new Uint8Array(0),v=1024;Object.defineProperties(f.prototype,{_bytes:{value:null,writable:!0},_length:{value:0,writable:!0},_wmark:{value:0,writable:!0},_off:{value:0,writable:!0},_rmark:{value:0,writable:!0},_grow:{value:function(e){var t=this._bytes,r=this._length+e,n=c(r);if(t){if(n*=2,n>t.length){var i=new Uint8Array(n);i.set(t),this._bytes=i}}else n=Math.max(n,v),this._bytes=new Uint8Array(n)}},length:{get:function(){return this._length}},capacity:{get:function(){return this._bytes?this._bytes.length:0}},position:{get:function(){return this._off}},bytes:{get:function(){return null===this._bytes?g:this._bytes.subarray(0,this._length)}},buffer:{get:function(){if(null===this._bytes)return g.buffer;if(this._bytes.buffer.slice)return this._bytes.buffer.slice(0,this._length);var e=new Uint8Array(this._length);return e.set(this._bytes.subarray(0,this._length)),e.buffer}},mark:{value:function(){this._wmark=this._length,this._rmark=this._off}},reset:{value:function(){this._length=this._wmark,this._off=this._rmark}},clear:{value:function(){this._bytes=null,this._length=0,this._wmark=0,this._off=0,this._rmark=0}},writeByte:{value:function(e){this._grow(1),this._bytes[this._length++]=e}},writeInt32BE:{value:function(e){if(e===(0|e)&&e<=2147483647)return this._grow(4),void(this._length=r(this._bytes,this._length,e));throw new TypeError("value is out of bounds")}},writeUInt32BE:{value:function(e){if((2147483647&e)+2147483648===e&&e>=0)return this._grow(4),void(this._length=r(this._bytes,this._length,0|e));throw new TypeError("value is out of bounds")}},writeInt32LE:{value:function(e){if(e===(0|e)&&e<=2147483647)return this._grow(4),void(this._length=n(this._bytes,this._length,e));throw new TypeError("value is out of bounds")}},writeUInt32LE:{value:function(e){if((2147483647&e)+2147483648===e&&e>=0)return this._grow(4),void(this._length=n(this._bytes,this._length,0|e));throw new TypeError("value is out of bounds")}},write:{value:function(e){var t=e.byteLength||e.length;if(0!==t){this._grow(t);var r=this._bytes,n=this._length;switch(e.constructor){case ArrayBuffer:r.set(new Uint8Array(e),n);break;case Uint8Array:r.set(e,n);break;case f:r.set(e.bytes,n);break;default:for(var i=0;i<t;i++)r[n+i]=e[i]}this._length+=t}}},writeAsciiString:{value:function(e){var t=e.length;if(0!==t){this._grow(t);for(var r=this._bytes,n=this._length,i=0;i<t;++i,++n)r[n]=e.charCodeAt(i);this._length=n}}},writeString:{value:function(e){var t=e.length;0!==t&&(this._grow(3*t),this._length=i(this._bytes,this._length,e))}},readByte:{value:function(){return this._off<this._length?this._bytes[this._off++]:-1}},readInt32BE:{value:function(){var e=this._bytes,t=this._off;if(t+3<this._length){var r=e[t++]<<24|e[t++]<<16|e[t++]<<8|e[t++];return this._off=t,r}throw new Error("EOF")}},readUInt32BE:{value:function(){var e=this.readInt32BE();return e<0?(2147483647&e)+2147483648:e}},readInt32LE:{value:function(){var e=this._bytes,t=this._off;if(t+3<this._length){var r=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;return this._off=t,r}throw new Error("EOF")}},readUInt32LE:{value:function(){var e=this.readInt32LE();return e<0?(2147483647&e)+2147483648:e}},read:{value:function(e){return this._off+e>this._length&&(e=this._length-this._off),0===e?g:this._bytes.subarray(this._off,this._off+=e)}},skip:{value:function(e){return this._off+e>this._length?(e=this._length-this._off,this._off=this._length):this._off+=e,e}},readBytes:{value:function(e){var t,r=Array.indexOf(this._bytes,e,this._off);return r===-1?(t=this._bytes.subarray(this._off,this._length),this._off=this._length):(t=this._bytes.subarray(this._off,r+1),this._off=r+1),t}},readUntil:{value:function(e){var t=Array.indexOf(this._bytes,e,this._off),r="";return t===this._off?this._off++:t===-1?(r=o(this._bytes.subarray(this._off,this._length))[0],this._off=this._length):(r=o(this._bytes.subarray(this._off,t))[0],this._off=t+1),r}},readAsciiString:{value:function(e){return this._off+e>this._length&&(e=this._length-this._off),0===e?"":h(this._bytes.subarray(this._off,this._off+=e))}},readStringAsBytes:{value:function(e){var t=s(this._bytes.subarray(this._off,this._length),e);return this._off+=t[1],t[0]}},readString:{value:function(e){var t=o(this._bytes.subarray(this._off,this._length),e);return this._off+=t[1],t[0]}},takeBytes:{value:function(){var e=this.bytes;return this.clear(),e}},toBytes:{value:function(){return new Uint8Array(this.bytes)}},toString:{value:function(){return o(this.bytes,this._length)[0]}},clone:{value:function(){return new f(this.toBytes())}},trunc:{value:function(){this._bytes=this._bytes.subarray(this._off,this._length),this._length=this._bytes.length,this._off=0,this._wmark=0,this._rmark=0}}}),Object.defineProperty(f,"toString",{value:l}),e.BytesIO=f}(hprose),hprose.Tags={TagInteger:105,TagLong:108,TagDouble:100,TagNull:110,TagEmpty:101,TagTrue:116,TagFalse:102,TagNaN:78,TagInfinity:73,TagDate:68,TagTime:84,TagUTC:90,TagBytes:98,TagUTF8Char:117,TagString:115,TagGuid:103,TagList:97,TagMap:109,TagClass:99,TagObject:111,TagRef:114,TagPos:43,TagNeg:45,TagSemicolon:59,TagOpenbrace:123,TagClosebrace:125,TagQuote:34,TagPoint:46,TagFunctions:70,TagCall:67,TagResult:82,TagArgument:65,TagError:69,TagEnd:122},function(e){"use strict";function t(e,t){u.set(e,t),a[t]=e}function r(e){return u.get(e)}function n(e){return a[e]}var i=e.WeakMap,a=Object.create(null),u=new i;e.ClassManager=Object.create(null,{register:{value:t},getClassAlias:{value:r},getClass:{value:n}}),e.register=t,t(Object,"Object")}(hprose),function(e,t){"use strict";function r(e){var t=e.constructor,r=A.getClassAlias(t);if(r)return r;if(t.name)r=t.name;else{var n=t.toString();if(r=n.substr(0,n.indexOf("(")).replace(/(^\s*function\s*)|(\s*$)/gi,""),""===r||"Object"===r)return"function"==typeof e.getClassName?e.getClassName():"Object"}return"Object"!==r&&A.register(t,r),r}function n(e){Object.defineProperties(this,{_stream:{value:e},_ref:{value:new B,writable:!0}})}function i(e){return new n(e)}function a(e,t){Object.defineProperties(this,{stream:{value:e},_classref:{value:Object.create(null),writable:!0},_fieldsref:{value:[],writable:!0},_refer:{value:t?E:i(e)}})}function u(e,n){var i=e.stream;if(n===t||null===n)return void i.writeByte(O.TagNull);switch(n.constructor){case Function:return void i.writeByte(O.TagNull);case Number:return void o(e,n);case Boolean:return void f(e,n);case String:switch(n.length){case 0:return void i.writeByte(O.TagEmpty);case 1:return i.writeByte(O.TagUTF8Char),void i.writeString(n)}return void e.writeStringWithRef(n);case Date:return void e.writeDateWithRef(n);case B:return void e.writeMapWithRef(n);case ArrayBuffer:case Uint8Array:case S:return void e.writeBytesWithRef(n);case Int8Array:case Int16Array:case Int32Array:case Uint16Array:case Uint32Array:return void w(e,n);case Float32Array:case Float64Array:return void d(e,n);default:if(Array.isArray(n))e.writeListWithRef(n);else{var a=r(n);"Object"===a?e.writeMapWithRef(n):e.writeObjectWithRef(n)}}}function o(e,t){var r=e.stream;t=t.valueOf(),t===(0|t)?0<=t&&t<=9?r.writeByte(t+48):(r.writeByte(O.TagInteger),r.writeAsciiString(""+t),r.writeByte(O.TagSemicolon)):isNaN(t)?r.writeByte(O.TagNaN):isFinite(t)?(r.writeByte(O.TagDouble),r.writeAsciiString(""+t),r.writeByte(O.TagSemicolon)):(r.writeByte(O.TagInfinity),r.writeByte(t>0?O.TagPos:O.TagNeg))}function s(e,t){var r=e.stream;0<=t&&t<=9?r.writeByte(t+48):(t<-2147483648||t>2147483647?r.writeByte(O.TagLong):r.writeByte(O.TagInteger),r.writeAsciiString(""+t),r.writeByte(O.TagSemicolon))}function c(e,t){var r=e.stream;isNaN(t)?r.writeByte(O.TagNaN):isFinite(t)?(r.writeByte(O.TagDouble),r.writeAsciiString(""+t),r.writeByte(O.TagSemicolon)):(r.writeByte(O.TagInfinity),r.writeByte(t>0?O.TagPos:O.TagNeg))}function f(e,t){e.stream.writeByte(t.valueOf()?O.TagTrue:O.TagFalse)}function l(e,t){e._refer.set(t);var r=e.stream,n=("0000"+t.getUTCFullYear()).slice(-4),i=("00"+(t.getUTCMonth()+1)).slice(-2),a=("00"+t.getUTCDate()).slice(-2),u=("00"+t.getUTCHours()).slice(-2),o=("00"+t.getUTCMinutes()).slice(-2),s=("00"+t.getUTCSeconds()).slice(-2),c=("000"+t.getUTCMilliseconds()).slice(-3);r.writeByte(O.TagDate),r.writeAsciiString(n+i+a),r.writeByte(O.TagTime),r.writeAsciiString(u+o+s),"000"!==c&&(r.writeByte(O.TagPoint),r.writeAsciiString(c)),r.writeByte(O.TagUTC)}function h(e,t){e._refer.set(t);var r=e.stream,n=("0000"+t.getFullYear()).slice(-4),i=("00"+(t.getMonth()+1)).slice(-2),a=("00"+t.getDate()).slice(-2),u=("00"+t.getHours()).slice(-2),o=("00"+t.getMinutes()).slice(-2),s=("00"+t.getSeconds()).slice(-2),c=("000"+t.getMilliseconds()).slice(-3);"00"===u&&"00"===o&&"00"===s&&"000"===c?(r.writeByte(O.TagDate),r.writeAsciiString(n+i+a)):"1970"===n&&"01"===i&&"01"===a?(r.writeByte(O.TagTime),r.writeAsciiString(u+o+s),"000"!==c&&(r.writeByte(O.TagPoint),r.writeAsciiString(c))):(r.writeByte(O.TagDate),r.writeAsciiString(n+i+a),r.writeByte(O.TagTime),r.writeAsciiString(u+o+s),"000"!==c&&(r.writeByte(O.TagPoint),r.writeAsciiString(c))),r.writeByte(O.TagSemicolon)}function g(e,t){e._refer.set(t);var r=e.stream,n=("00"+t.getHours()).slice(-2),i=("00"+t.getMinutes()).slice(-2),a=("00"+t.getSeconds()).slice(-2),u=("000"+t.getMilliseconds()).slice(-3);r.writeByte(O.TagTime),r.writeAsciiString(n+i+a),"000"!==u&&(r.writeByte(O.TagPoint),r.writeAsciiString(u)),r.writeByte(O.TagSemicolon)}function v(e,t){e._refer.set(t);var r=e.stream;r.writeByte(O.TagBytes);var n=t.byteLength||t.length;n>0?(r.writeAsciiString(""+n),r.writeByte(O.TagQuote),r.write(t)):r.writeByte(O.TagQuote),r.writeByte(O.TagQuote)}function y(e,t){e._refer.set(t);var r=e.stream,n=t.length;r.writeByte(O.TagString),n>0?(r.writeAsciiString(""+n),r.writeByte(O.TagQuote),r.writeString(t)):r.writeByte(O.TagQuote),r.writeByte(O.TagQuote)}function p(e,t,r){e._refer.set(t);var n=e.stream,i=t.length;if(n.writeByte(O.TagList),i>0){n.writeAsciiString(""+i),n.writeByte(O.TagOpenbrace);for(var a=0;a<i;a++)r(e,t[a])}else n.writeByte(O.TagOpenbrace);n.writeByte(O.TagClosebrace)}function w(e,t){e._refer.write(t)||p(e,t,s)}function d(e,t){e._refer.write(t)||p(e,t,c)}function T(e,t){e._refer.set(t);var r=e.stream,n=[];for(var i in t)t.hasOwnProperty(i)&&"function"!=typeof t[i]&&(n[n.length]=i);var a=n.length;if(r.writeByte(O.TagMap),a>0){r.writeAsciiString(""+a),r.writeByte(O.TagOpenbrace);for(var o=0;o<a;o++)u(e,n[o]),u(e,t[n[o]])}else r.writeByte(O.TagOpenbrace);r.writeByte(O.TagClosebrace)}function b(e,t){e._refer.set(t);var r=e.stream,n=t.size;r.writeByte(O.TagMap),n>0?(r.writeAsciiString(""+n),r.writeByte(O.TagOpenbrace),t.forEach(function(t,r){u(e,r),u(e,t)})):r.writeByte(O.TagOpenbrace),r.writeByte(O.TagClosebrace)}function m(e,t){var n,i,a=e.stream,o=r(t);if(o in e._classref)i=e._classref[o],n=e._fieldsref[i];else{n=[];for(var s in t)t.hasOwnProperty(s)&&"function"!=typeof t[s]&&(n[n.length]=s.toString());i=_(e,o,n)}a.writeByte(O.TagObject),a.writeAsciiString(""+i),a.writeByte(O.TagOpenbrace),e._refer.set(t);for(var c=n.length,f=0;f<c;f++)u(e,t[n[f]]);a.writeByte(O.TagClosebrace)}function _(e,t,r){var n=e.stream,i=r.length;if(n.writeByte(O.TagClass),n.writeAsciiString(""+t.length),n.writeByte(O.TagQuote),n.writeString(t),n.writeByte(O.TagQuote),i>0){n.writeAsciiString(""+i),n.writeByte(O.TagOpenbrace);for(var a=0;a<i;a++)y(e,r[a])}else n.writeByte(O.TagOpenbrace);n.writeByte(O.TagClosebrace);var u=e._fieldsref.length;return e._classref[t]=u,e._fieldsref[u]=r,u}var B=e.Map,S=e.BytesIO,O=e.Tags,A=e.ClassManager,E=Object.create(null,{set:{value:function(){}},write:{value:function(){return!1}},reset:{value:function(){}}});Object.defineProperties(n.prototype,{_refcount:{value:0,writable:!0},set:{value:function(e){this._ref.set(e,this._refcount++)}},write:{value:function(e){var r=this._ref.get(e);return r!==t&&(this._stream.writeByte(O.TagRef),this._stream.writeString(""+r),this._stream.writeByte(O.TagSemicolon),!0)}},reset:{value:function(){this._ref=new B,this._refcount=0}}}),Object.defineProperties(a.prototype,{serialize:{value:function(e){u(this,e)}},writeInteger:{value:function(e){s(this,e)}},writeDouble:{value:function(e){c(this,e)}},writeBoolean:{value:function(e){f(this,e)}},writeUTCDate:{value:function(e){l(this,e)}},writeUTCDateWithRef:{value:function(e){this._refer.write(e)||l(this,e)}},writeDate:{value:function(e){h(this,e)}},writeDateWithRef:{value:function(e){this._refer.write(e)||h(this,e)}},writeTime:{value:function(e){g(this,e)}},writeTimeWithRef:{value:function(e){this._refer.write(e)||g(this,e);
}},writeBytes:{value:function(e){v(this,e)}},writeBytesWithRef:{value:function(e){this._refer.write(e)||v(this,e)}},writeString:{value:function(e){y(this,e)}},writeStringWithRef:{value:function(e){this._refer.write(e)||y(this,e)}},writeList:{value:function(e){p(this,e,u)}},writeListWithRef:{value:function(e){this._refer.write(e)||p(this,e,u)}},writeMap:{value:function(e){e instanceof B?b(this,e):T(this,e)}},writeMapWithRef:{value:function(e){this._refer.write(e)||(e instanceof B?b(this,e):T(this,e))}},writeObject:{value:function(e){m(this,e)}},writeObjectWithRef:{value:function(e){this._refer.write(e)||m(this,e)}},reset:{value:function(){this._classref=Object.create(null),this._fieldsref.length=0,this._refer.reset()}}}),e.Writer=a}(hprose),function(e,t){"use strict";function r(e,t){if(e&&t){var r="";throw r="number"==typeof t?String.fromCharCode(t):String.fromCharCode.apply(String,t),new Error('Tag "'+r+'" expected, but "'+String.fromCharCode(e)+'" found in stream')}throw e?new Error('Unexpected serialize tag "'+String.fromCharCode(e)+'" in stream'):new Error("No byte found in stream")}function n(e){var t=new V;return i(e,t),t.bytes}function i(e,t){a(e,t,e.readByte())}function a(e,t,n){switch(t.writeByte(n),n){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case X.TagNull:case X.TagEmpty:case X.TagTrue:case X.TagFalse:case X.TagNaN:break;case X.TagInfinity:t.writeByte(e.readByte());break;case X.TagInteger:case X.TagLong:case X.TagDouble:case X.TagRef:u(e,t);break;case X.TagDate:case X.TagTime:o(e,t);break;case X.TagUTF8Char:s(e,t);break;case X.TagBytes:c(e,t);break;case X.TagString:f(e,t);break;case X.TagGuid:l(e,t);break;case X.TagList:case X.TagMap:case X.TagObject:h(e,t);break;case X.TagClass:h(e,t),i(e,t);break;case X.TagError:i(e,t);break;default:r(n)}}function u(e,t){var r;do r=e.readByte(),t.writeByte(r);while(r!==X.TagSemicolon)}function o(e,t){var r;do r=e.readByte(),t.writeByte(r);while(r!==X.TagSemicolon&&r!==X.TagUTC)}function s(e,t){t.writeString(e.readString(1))}function c(e,t){var r=0,n=48;do r*=10,r+=n-48,n=e.readByte(),t.writeByte(n);while(n!==X.TagQuote);t.write(e.read(r+1))}function f(e,t){var r=0,n=48;do r*=10,r+=n-48,n=e.readByte(),t.writeByte(n);while(n!==X.TagQuote);t.write(e.readStringAsBytes(r+1))}function l(e,t){t.write(e.read(38))}function h(e,t){var r;do r=e.readByte(),t.writeByte(r);while(r!==X.TagOpenbrace);for(;(r=e.readByte())!==X.TagClosebrace;)a(e,t,r);t.writeByte(r)}function g(e){Object.defineProperties(this,{stream:{value:e},readRaw:{value:function(){return n(e)}}})}function v(){Object.defineProperties(this,{ref:{value:[]}})}function y(){return new v}function p(e){var t=Z.getClass(e);return t?t:(t=function(){},Object.defineProperty(t.prototype,"getClassName",{value:function(){return e}}),Z.register(t,e),t)}function w(e,t){var r=e.readUntil(t);return 0===r.length?0:parseInt(r,10)}function d(e){var t=e.stream,n=t.readByte();switch(n){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return n-48;case X.TagInteger:return T(t);case X.TagLong:return m(t);case X.TagDouble:return B(t);case X.TagNull:return null;case X.TagEmpty:return"";case X.TagTrue:return!0;case X.TagFalse:return!1;case X.TagNaN:return NaN;case X.TagInfinity:return O(t);case X.TagDate:return E(e);case X.TagTime:return C(e);case X.TagBytes:return R(e);case X.TagUTF8Char:return x(e);case X.TagString:return F(e);case X.TagGuid:return N(e);case X.TagList:return W(e);case X.TagMap:return e.useHarmonyMap?z(e):D(e);case X.TagClass:return J(e),G(e);case X.TagObject:return q(e);case X.TagRef:return Y(e);case X.TagError:throw new Error(M(e));default:r(n)}}function T(e){return w(e,X.TagSemicolon)}function b(e){var t=e.readByte();switch(t){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return t-48;case X.TagInteger:return T(e);default:r(t)}}function m(e){var t=e.readUntil(X.TagSemicolon),r=parseInt(t,10);return r.toString()===t?r:t}function _(e){var t=e.readByte();switch(t){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return t-48;case X.TagInteger:case X.TagLong:return m(e);default:r(t)}}function B(e){return parseFloat(e.readUntil(X.TagSemicolon))}function S(e){var t=e.readByte();switch(t){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return t-48;case X.TagInteger:case X.TagLong:case X.TagDouble:return B(e);case X.TagNaN:return NaN;case X.TagInfinity:return O(e);default:r(t)}}function O(e){return e.readByte()===X.TagNeg?-(1/0):1/0}function A(e){var t=e.readByte();switch(t){case X.TagTrue:return!0;case X.TagFalse:return!1;default:r(t)}}function E(e){var t,r=e.stream,n=parseInt(r.readAsciiString(4),10),i=parseInt(r.readAsciiString(2),10)-1,a=parseInt(r.readAsciiString(2),10),u=r.readByte();if(u===X.TagTime){var o=parseInt(r.readAsciiString(2),10),s=parseInt(r.readAsciiString(2),10),c=parseInt(r.readAsciiString(2),10),f=0;u=r.readByte(),u===X.TagPoint&&(f=parseInt(r.readAsciiString(3),10),u=r.readByte(),u>=48&&u<=57&&(r.skip(2),u=r.readByte(),u>=48&&u<=57&&(r.skip(2),u=r.readByte()))),t=u===X.TagUTC?new Date(Date.UTC(n,i,a,o,s,c,f)):new Date(n,i,a,o,s,c,f)}else t=u===X.TagUTC?new Date(Date.UTC(n,i,a)):new Date(n,i,a);return e.refer.set(t),t}function j(e){var t=e.stream.readByte();switch(t){case X.TagNull:return null;case X.TagDate:return E(e);case X.TagRef:return Y(e);default:r(t)}}function C(e){var t,r=e.stream,n=parseInt(r.readAsciiString(2),10),i=parseInt(r.readAsciiString(2),10),a=parseInt(r.readAsciiString(2),10),u=0,o=r.readByte();return o===X.TagPoint&&(u=parseInt(r.readAsciiString(3),10),o=r.readByte(),o>=48&&o<=57&&(r.skip(2),o=r.readByte(),o>=48&&o<=57&&(r.skip(2),o=r.readByte()))),t=o===X.TagUTC?new Date(Date.UTC(1970,0,1,n,i,a,u)):new Date(1970,0,1,n,i,a,u),e.refer.set(t),t}function k(e){var t=e.stream.readByte();switch(t){case X.TagNull:return null;case X.TagTime:return C(e);case X.TagRef:return Y(e);default:r(t)}}function R(e){var t=e.stream,r=w(t,X.TagQuote),n=t.read(r);return t.skip(1),e.refer.set(n),n}function U(e){var t=e.stream.readByte();switch(t){case X.TagNull:return null;case X.TagEmpty:return new Uint8Array(0);case X.TagBytes:return R(e);case X.TagRef:return Y(e);default:r(t)}}function x(e){return e.stream.readString(1)}function I(e){var t=e.stream,r=t.readString(w(t,X.TagQuote));return t.skip(1),r}function F(e){var t=I(e);return e.refer.set(t),t}function M(e){var t=e.stream.readByte();switch(t){case X.TagNull:return null;case X.TagEmpty:return"";case X.TagUTF8Char:return x(e);case X.TagString:return F(e);case X.TagRef:return Y(e);default:r(t)}}function N(e){var t=e.stream;t.skip(1);var r=t.readAsciiString(36);return t.skip(1),e.refer.set(r),r}function P(e){var t=e.stream.readByte();switch(t){case X.TagNull:return null;case X.TagGuid:return N(e);case X.TagRef:return Y(e);default:r(t)}}function W(e){var t=e.stream,r=[];e.refer.set(r);for(var n=w(t,X.TagOpenbrace),i=0;i<n;i++)r[i]=d(e);return t.skip(1),r}function L(e){var t=e.stream.readByte();switch(t){case X.TagNull:return null;case X.TagList:return W(e);case X.TagRef:return Y(e);default:r(t)}}function D(e){var t=e.stream,r={};e.refer.set(r);for(var n=w(t,X.TagOpenbrace),i=0;i<n;i++){var a=d(e),u=d(e);r[a]=u}return t.skip(1),r}function H(e){var t=e.stream.readByte();switch(t){case X.TagNull:return null;case X.TagMap:return D(e);case X.TagRef:return Y(e);default:r(t)}}function z(e){var t=e.stream,r=new K;e.refer.set(r);for(var n=w(t,X.TagOpenbrace),i=0;i<n;i++){var a=d(e),u=d(e);r.set(a,u)}return t.skip(1),r}function Q(e){var t=e.stream.readByte();switch(t){case X.TagNull:return null;case X.TagMap:return z(e);case X.TagRef:return Y(e);default:r(t)}}function q(e){var t=e.stream,r=e.classref[w(t,X.TagOpenbrace)],n=new r.classname;e.refer.set(n);for(var i=0;i<r.count;i++)n[r.fields[i]]=d(e);return t.skip(1),n}function G(e){var t=e.stream.readByte();switch(t){case X.TagNull:return null;case X.TagClass:return J(e),G(e);case X.TagObject:return q(e);case X.TagRef:return Y(e);default:r(t)}}function J(e){for(var t=e.stream,r=I(e),n=w(t,X.TagOpenbrace),i=[],a=0;a<n;a++)i[a]=M(e);t.skip(1),r=p(r),e.classref.push({classname:r,count:n,fields:i})}function Y(e){return e.refer.read(w(e.stream,X.TagSemicolon))}function $(e,t,r){g.call(this,e),this.useHarmonyMap=!!r,Object.defineProperties(this,{classref:{value:[]},refer:{value:t?ee:y()}})}var K=e.Map,V=e.BytesIO,X=e.Tags,Z=e.ClassManager;e.RawReader=g;var ee=Object.create(null,{set:{value:function(){}},read:{value:function(){r(X.TagRef)}},reset:{value:function(){}}});Object.defineProperties(v.prototype,{set:{value:function(e){this.ref.push(e)}},read:{value:function(e){return this.ref[e]}},reset:{value:function(){this.ref.length=0}}}),$.prototype=Object.create(g.prototype),$.prototype.constructor=$,Object.defineProperties($.prototype,{useHarmonyMap:{value:!1,writable:!0},checkTag:{value:function(e,n){n===t&&(n=this.stream.readByte()),n!==e&&r(n,e)}},checkTags:{value:function(e,n){return n===t&&(n=this.stream.readByte()),e.indexOf(n)>=0?n:void r(n,e)}},unserialize:{value:function(){return d(this)}},readInteger:{value:function(){return b(this.stream)}},readLong:{value:function(){return _(this.stream)}},readDouble:{value:function(){return S(this.stream)}},readBoolean:{value:function(){return A(this.stream)}},readDateWithoutTag:{value:function(){return E(this)}},readDate:{value:function(){return j(this)}},readTimeWithoutTag:{value:function(){return C(this)}},readTime:{value:function(){return k(this)}},readBytesWithoutTag:{value:function(){return R(this)}},readBytes:{value:function(){return U(this)}},readStringWithoutTag:{value:function(){return F(this)}},readString:{value:function(){return M(this)}},readGuidWithoutTag:{value:function(){return N(this)}},readGuid:{value:function(){return P(this)}},readListWithoutTag:{value:function(){return W(this)}},readList:{value:function(){return L(this)}},readMapWithoutTag:{value:function(){return this.useHarmonyMap?z(this):D(this)}},readMap:{value:function(){return this.useHarmonyMap?Q(this):H(this)}},readObjectWithoutTag:{value:function(){return q(this)}},readObject:{value:function(){return G(this)}},reset:{value:function(){this.classref.length=0,this.refer.reset()}}}),e.Reader=$}(hprose),function(e){"use strict";function t(e,t){var r=new n,a=new i(r,t);return a.serialize(e),r}function r(e,t,r){return e instanceof n||(e=new n(e)),new a(e,t,r).unserialize()}var n=e.BytesIO,i=e.Writer,a=e.Reader;e.Formatter={serialize:function(e,r){return t(e,r).bytes},unserialize:r},e.serialize=t,e.unserialize=r}(hprose),hprose.ResultMode={Normal:0,Serialized:1,Raw:2,RawWithEndTag:3},hprose.Normal=hprose.ResultMode.Normal,hprose.Serialized=hprose.ResultMode.Serialized,hprose.Raw=hprose.ResultMode.Raw,hprose.RawWithEndTag=hprose.ResultMode.RawWithEndTag,function(e,t){"use strict";function r(){}function n(e,n,i){function a(e,t){for(var r=0,n=Ve.length;r<n;r++)e=Ve[r].outputFilter(e,t);return e}function g(e,t){for(var r=Ve.length-1;r>=0;r--)e=Ve[r].inputFilter(e,t);return e}function m(e,t){return e=a(e,t),ot(e,t).then(function(e){if(!t.oneway)return g(e,t)})}function _(e,t){return ht.sendAndReceive(e,t).catchError(function(r){var n=O(e,t);if(null!==n)return n;throw r})}function B(e,t,r,n){ut(e,t).then(r,n)}function S(){var e=Ne.length;if(e>1){var t=Pe+1;t>=e&&(t=0,qe++),Pe=t,Me=Ne[Pe]}else qe++;Ke(ht)}function O(e,t){if(t.failswitch&&S(),t.idempotent&&t.retried<t.retry){var r=500*++t.retried;return t.failswitch&&(r-=500*(Ne.length-1)),r>5e3&&(r=5e3),r>0?h.delayed(r,function(){return _(e,t)}):_(e,t)}return null}function A(e){var t={retry:He,retried:0,idempotent:!0,failswitch:!0,timeout:De,client:ht,userdata:{}},r=function(t){var r=null;try{var n=new c(t),i=new l(n,(!0)),a=n.readByte();switch(a){case o.TagError:r=new Error(i.readString());break;case o.TagFunctions:var u=i.readList();i.checkTag(o.TagEnd),C(e,u);break;default:r=new Error("Wrong Response:\r\n"+c.toString(t))}}catch(e){r=e}null!==r?et.reject(r):et.resolve(e)};B(y,t,r,et.reject)}function E(e,t){return function(){return Xe?F(e,t,Array.slice(arguments),!0):h.all(arguments).then(function(r){return F(e,t,r,!1)})}}function j(e,r,n,i,a){if(r[i]===t&&(r[i]={},typeof a!==w&&a.constructor!==Object||(a=[a]),Array.isArray(a)))for(var u=0;u<a.length;u++){var o=a[u];if(typeof o===w)r[i][o]=E(e,n+i+"_"+o);else for(var s in o)j(e,r[i],i+"_",s,o[s])}}function C(e,r){for(var n=0;n<r.length;n++){var i=r[n];if(typeof i===w)e[i]===t&&(e[i]=E(e,i));else for(var a in i)j(e,e,"",a,i[a])}}function k(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;++n)t[n]=e[n]}function R(e){return e?{mode:s.Normal,byref:We,simple:Le,onsuccess:t,onerror:t,useHarmonyMap:Ye,client:ht,userdata:{}}:{mode:s.Normal,byref:We,simple:Le,timeout:De,retry:He,retried:0,idempotent:ze,failswitch:Qe,oneway:!1,sync:!1,onsuccess:t,onerror:t,useHarmonyMap:Ye,client:ht,userdata:{}}}function U(e,t,r,n){var i=R(n);if(t in e){var a=e[t];for(var u in a)u in i&&(i[u]=a[u])}for(var o=0,s=r.length;o<s&&typeof r[o]!==T;++o);if(o===s)return i;var c=r.splice(o,s-o);for(i.onsuccess=c[0],s=c.length,o=1;o<s;++o){var f=c[o];switch(typeof f){case T:i.onerror=f;break;case p:i.byref=f;break;case d:i.mode=f;break;case b:for(var l in f)l in i&&(i[l]=f[l])}}return i}function x(e,t,r){var n=new c;n.writeByte(o.TagCall);var i=new f(n,r.simple);return i.writeString(e),(t.length>0||r.byref)&&(i.reset(),i.writeList(t),r.byref&&i.writeBoolean(!0)),n}function I(e,t,r,n){return Ge?h.promise(function(i,a){Je.push({batch:n,name:e,args:t,context:r,resolve:i,reject:a})}):n?L(e,t,r):W(e,t,r)}function F(e,t,r,n){return I(t,r,U(e,t,r,n),n)}function M(e,t,r,n){try{r.onerror?r.onerror(e,t):$e(e,t),n(t)}catch(e){n(e)}}function N(e,t,r){var n=x(e,t,r);return n.writeByte(o.TagEnd),h.promise(function(e,i){B(n.bytes,r,function(n){if(r.oneway)return void e();var a=null,u=null;try{if(r.mode===s.RawWithEndTag)a=n;else if(r.mode===s.Raw)a=n.subarray(0,n.byteLength-1);else{var f=new c(n),h=new l(f,(!1),r.useHarmonyMap),g=f.readByte();if(g===o.TagResult){if(a=r.mode===s.Serialized?h.readRaw():h.unserialize(),g=f.readByte(),g===o.TagArgument){h.reset();var v=h.readList();k(v,t),g=f.readByte()}}else g===o.TagError&&(u=new Error(h.readString()),g=f.readByte());g!==o.TagEnd&&(u=new Error("Wrong Response:\r\n"+c.toString(n)))}}catch(e){u=e}u?i(u):e(a)},i)})}function P(e){return function(){e&&(Ge=!1,u(function(e){e.forEach(function(e){"settings"in e?Q(e.settings).then(e.resolve,e.reject):I(e.name,e.args,e.context,e.batch).then(e.resolve,e.reject)})},Je),Je=[])}}function W(e,t,r){r.sync&&(Ge=!0);var n=h.promise(function(n,i){it(e,t,r).then(function(a){try{if(r.onsuccess)try{r.onsuccess(a,t)}catch(t){r.onerror&&r.onerror(e,t),i(t)}n(a)}catch(e){i(e)}},function(t){M(e,t,r,i)})});return n.whenComplete(P(r.sync)),n}function L(e,t,r){return h.promise(function(n,i){Ze.push({args:t,name:e,context:r,resolve:n,reject:i})})}function D(e){var t={timeout:De,retry:He,retried:0,idempotent:ze,failswitch:Qe,oneway:!1,sync:!1,client:ht,userdata:{}};for(var r in e)r in t&&(t[r]=e[r]);return t}function H(e,t){var r=e.reduce(function(e,t){return e.write(x(t.name,t.args,t.context)),e},new c);return r.writeByte(o.TagEnd),h.promise(function(n,i){B(r.bytes,t,function(r){if(t.oneway)return void n(e);var a=-1,u=new c(r),f=new l(u,(!1)),h=u.readByte();try{for(;h!==o.TagEnd;){var g=null,v=null,y=e[++a].context.mode;if(y>=s.Raw&&(g=new c),h===o.TagResult){if(y===s.Serialized?g=f.readRaw():y>=s.Raw?(g.writeByte(o.TagResult),g.write(f.readRaw())):(f.useHarmonyMap=e[a].context.useHarmonyMap,f.reset(),g=f.unserialize()),h=u.readByte(),h===o.TagArgument){if(y>=s.Raw)g.writeByte(o.TagArgument),g.write(f.readRaw());else{f.reset();var p=f.readList();k(p,e[a].args)}h=u.readByte()}}else h===o.TagError&&(y>=s.Raw?(g.writeByte(o.TagError),g.write(f.readRaw())):(f.reset(),v=new Error(f.readString())),h=u.readByte());if([o.TagEnd,o.TagResult,o.TagError].indexOf(h)<0)return void i(new Error("Wrong Response:\r\n"+c.toString(r)));y>=s.Raw?(y===s.RawWithEndTag&&g.writeByte(o.TagEnd),e[a].result=g.bytes):e[a].result=g,e[a].error=v}}catch(e){return void i(e)}n(e)},i)})}function z(){Xe=!0}function Q(e){if(e=e||{},Xe=!1,Ge)return h.promise(function(t,r){Je.push({batch:!0,settings:e,resolve:t,reject:r})});var t=Ze.length;if(0===t)return h.value([]);var r=D(e);r.sync&&(Ge=!0);var n=Ze;Ze=[];var i=h.promise(function(e,t){at(n,r).then(function(t){t.forEach(function(e){if(e.error)M(e.name,e.error,e.context,e.reject);else try{if(e.context.onsuccess)try{e.context.onsuccess(e.result,e.args)}catch(t){e.context.onerror&&e.context.onerror(e.name,t),e.reject(t)}e.resolve(e.result)}catch(t){e.reject(t)}delete e.context,delete e.resolve,delete e.reject}),e(t)},function(e){n.forEach(function(t){"reject"in t&&M(t.name,e,t.context,t.reject)}),t(e)})});return i.whenComplete(P(r.sync)),i}function q(){return $e}function G(e){typeof e===T&&($e=e)}function J(){return Ke}function Y(e){typeof e===T&&(Ke=e)}function $(){return Me}function K(){return Ne}function V(e){if(typeof e===w)Ne=[e];else{if(!Array.isArray(e))return;Ne=e.slice(0),Ne.sort(function(){return Math.random()-.5})}Pe=0,Me=Ne[Pe]}function X(){return Qe}function Z(e){Qe=!!e}function ee(){return qe}function te(){return De}function re(e){De="number"==typeof e?0|e:0}function ne(){return He}function ie(e){He="number"==typeof e?0|e:0}function ae(){return ze}function ue(e){ze=!!e}function oe(e){nt=!!e}function se(){return nt}function ce(){return We}function fe(e){We=!!e}function le(){return Le}function he(e){Le=!!e}function ge(){return Ye}function ve(e){Ye=!!e}function ye(){return 0===Ve.length?null:1===Ve.length?Ve[0]:Ve.slice()}function pe(e){Ve.length=0,Array.isArray(e)?e.forEach(function(e){we(e)}):we(e)}function we(e){e&&"function"==typeof e.inputFilter&&"function"==typeof e.outputFilter&&Ve.push(e)}function de(e){var t=Ve.indexOf(e);return t!==-1&&(Ve.splice(t,1),!0)}function Te(){return Ve}function be(e,r,n){n===t&&(typeof r===p&&(n=r,r=!1),r||(typeof e===p?(n=e,e=!1):(e&&e.constructor===Object||Array.isArray(e))&&(r=e,e=!1)));var i=ht;return n&&(i={}),e||Me?(e&&(Me=e),(typeof r===w||r&&r.constructor===Object)&&(r=[r]),Array.isArray(r)?(C(i,r),et.resolve(i),i):(u(A,i),et)):new Error("You should set server uri first!")}function me(e,t,n){var i=arguments.length;if(i<1||typeof e!==w)throw new Error("name must be a string");if(1===i&&(t=[]),2===i&&!Array.isArray(t)){var a=[];typeof t!==T&&a.push(r),a.push(t),t=a}if(i>2){typeof n!==T&&t.push(r);for(var u=2;u<i;u++)t.push(arguments[u])}return F(ht,e,t,Xe)}function _e(e,t){return et.then(e,t)}function Be(e,t){if(tt[e]){var r=tt[e];if(r[t])return r[t]}return null}function Se(e,r,n,i,a){if(typeof e!==w)throw new TypeError("topic name must be a string.");if(r===t||null===r){if(typeof n!==T)throw new TypeError("callback must be a function.");r=n}if(tt[e]||(tt[e]=Object.create(null)),typeof r===T)return i=n,n=r,void ke().then(function(t){Se(e,t,n,i,a)});if(typeof n!==T)throw new TypeError("callback must be a function.");if(h.isPromise(r))return void r.then(function(t){Se(e,t,n,i,a)});i===t&&(i=De);var u=Be(e,r);if(null===u){var o=function(){F(ht,e,[r,u.handler,o,{idempotent:!0,failswitch:a,timeout:i}],!1)};u={handler:function(t){var n=Be(e,r);if(n){if(null!==t)for(var i=n.callbacks,a=0,u=i.length;a<u;++a)try{i[a](t)}catch(e){}null!==Be(e,r)&&o()}},callbacks:[n]},tt[e][r]=u,o()}else u.callbacks.indexOf(n)<0&&u.callbacks.push(n)}function Oe(e,t,r){if(e)if(typeof r===T){var n=e[t];if(n){var i=n.callbacks,a=i.indexOf(r);a>=0&&(i[a]=i[i.length-1],i.length--),0===i.length&&delete e[t]}}else delete e[t]}function Ae(e,r,n){if(typeof e!==w)throw new TypeError("topic name must be a string.");if(r===t||null===r){if(typeof n!==T)return void delete tt[e];r=n}if(typeof r===T&&(n=r,r=null),null===r)if(null===rt){if(tt[e]){var i=tt[e];for(r in i)Oe(i,r,n)}}else rt.then(function(t){Ae(e,t,n)});else h.isPromise(r)?r.then(function(t){Ae(e,t,n)}):Oe(tt[e],r,n);v(tt[e])&&delete tt[e]}function Ee(e){return!!tt[e]}function je(){var e=[];for(var t in tt)e.push(t);return e}function Ce(){return rt}function ke(){return null===rt&&(rt=F(ht,"#",[],!1)),rt}function Re(e){st.push(e),it=st.reduceRight(function(e,t){return function(r,n,i){return h.sync(function(){return t(r,n,i,e)})}},N)}function Ue(e){ct.push(e),at=ct.reduceRight(function(e,t){return function(r,n){return h.sync(function(){return t(r,n,e)})}},H)}function xe(e){ft.push(e),ut=ft.reduceRight(function(e,t){return function(r,n){return h.sync(function(){return t(r,n,e)})}},m)}function Ie(e){lt.push(e),ot=lt.reduceRight(function(e,t){return function(r,n){return h.sync(function(){return t(r,n,e)})}},_)}function Fe(e){return Re(e),ht}var Me,Ne=[],Pe=-1,We=!1,Le=!1,De=3e4,He=10,ze=!1,Qe=!1,qe=0,Ge=!1,Je=[],Ye=!1,$e=r,Ke=r,Ve=[],Xe=!1,Ze=[],et=new h,tt=Object.create(null),rt=null,nt=!0,it=N,at=H,ut=m,ot=_,st=[],ct=[],ft=[],lt=[],ht=this;ke.sync=!0,ke.idempotent=!0,ke.failswitch=!0;var gt=Object.create(null,{begin:{value:z},end:{value:Q},use:{value:function(e){return Ue(e),gt}}}),vt=Object.create(null,{use:{value:function(e){return xe(e),vt}}}),yt=Object.create(null,{use:{value:function(e){return Ie(e),yt}}});Object.defineProperties(this,{"#":{value:ke},onerror:{get:q,set:G},onfailswitch:{get:J,set:Y},uri:{get:$},uriList:{get:K,set:V},id:{get:Ce},failswitch:{get:X,set:Z},failround:{get:ee},timeout:{get:te,set:re},retry:{get:ne,set:ie},idempotent:{get:ae,set:ue},keepAlive:{get:se,set:oe},byref:{get:ce,set:fe},simple:{get:le,set:he},useHarmonyMap:{get:ge,set:ve},filter:{get:ye,set:pe},addFilter:{value:we},removeFilter:{value:de},filters:{get:Te},useService:{value:be},invoke:{value:me},ready:{value:_e},subscribe:{value:Se},unsubscribe:{value:Ae},isSubscribed:{value:Ee},subscribedList:{value:je},use:{value:Fe},batch:{value:gt},beforeFilter:{value:vt},afterFilter:{value:yt}}),i&&typeof i===b&&["failswitch","timeout","retry","idempotent","keepAlive","byref","simple","useHarmonyMap","filter"].forEach(function(e){e in i&&(ht[e]=i[e])}),e&&(V(e),be(n))}function i(e){var t=g(e),r=t.protocol;if("http:"!==r&&"https:"!==r&&"ws:"!==r&&"wss:"!==r)throw new Error("The "+r+" client isn't implemented.")}function a(t,r,n){try{return e.HttpClient.create(t,r,n)}catch(e){}try{return e.WebSocketClient.create(t,r,n)}catch(e){}if("string"==typeof t)i(t);else if(Array.isArray(t))throw t.forEach(function(e){i(e)}),new Error("Not support multiple protocol.");throw new Error("You should set server uri first!")}var u=e.setImmediate,o=e.Tags,s=e.ResultMode,c=e.BytesIO,f=e.Writer,l=e.Reader,h=e.Future,g=e.parseuri,v=e.isObjectEmpty,y=new Uint8Array(1);y[0]=o.TagEnd;var p="boolean",w="string",d="number",T="function",b="object";Object.defineProperty(n,"create",{value:a}),e.Client=n}(hprose),function(e){"use strict";function t(e,r,n){function u(e,t){var r=new a,n={};for(var i in f)n[i]=f[i];return n["Content-Type"]="text/plain; charset=UTF-8",wx.request({url:l.uri,method:"POST",data:o.toString(e),header:n,timeout:t.timeout,complete:function(e){"undefined"==typeof e.statusCode?r.reject(new Error(e.errMsg)):200===parseInt(e.statusCode,10)?r.resolve(new o(e.data).takeBytes()):r.reject(new Error(e.statusCode+":"+e.data))}}),r}function s(e,t){var r=u(e,t);return t.oneway&&r.resolve(),r}function c(e,t){"content-type"!==e.toLowerCase()&&(t?f[e]=t:delete f[e])}if(this.constructor!==t)return new t(e,r,n);i.call(this,e,r,n);var f=Object.create(null),l=this;Object.defineProperties(this,{setHeader:{value:c},sendAndReceive:{value:s}})}function r(e){var t=u(e);if("http:"!==t.protocol&&"https:"!==t.protocol)throw new Error("This client desn't support "+t.protocol+" scheme.")}function n(e,n,i){if("string"==typeof e)r(e);else{if(!Array.isArray(e))throw new Error("You should set server uri first!");e.forEach(function(e){r(e)})}return new t(e,n,i)}var i=e.Client,a=e.Future,u=e.parseuri,o=e.BytesIO;Object.defineProperties(t,{create:{value:n}}),e.HttpClient=t}(hprose),function(e,t){"use strict";function r(){}function n(e,i,a){function c(){return _<2147483647?++_:_=0}function v(e,t){var r=new u;r.writeInt32BE(e),t.constructor===String?r.writeString(t):r.write(t);var n=r.bytes;wx.sendSocketMessage({data:n.buffer.slice(0,n.length)})}function y(){E=l,A.resolve()}function p(e){var r=new u(e.data),n=r.readInt32BE(),i=S[n];if(delete S[n],i!==t&&(--B,i.resolve(r.read(r.length-4))),B<100&&O.length>0){++B;var a=O.pop();A.then(function(){v(a[0],a[1])})}0!==B||j.keepAlive||m()}function w(e){e&&""!==e.message&&(E=h,S.forEach(function(e,t){e.reject(new Error("websocket can't open")),delete S[t]}),B=0,E=g)}function d(){E=h,S.forEach(function(e,t){e.reject(new Error("websocket closed")),delete S[t]}),B=0,E=g}function T(){E=f,A=new s,wx.connectSocket({url:j.uri}),wx.onSocketOpen(y),wx.onSocketMessage(p),wx.onSocketError(w),wx.onSocketClose(d)}function b(e,t){var r=c(),n=new s;return S[r]=n,t.timeout>0&&(n=n.timeout(t.timeout).catchError(function(e){throw delete S[r],--B,e},function(e){return e instanceof TimeoutError})),E!==h&&E!==g||T(),B<100?(++B,A.then(function(){v(r,e)})):O.push([r,e]),t.oneway&&n.resolve(),n}function m(){E!==h&&E!==g&&(E=h,wx.onSocketOpen(r),wx.onSocketMessage(r),wx.onSocketError(r),wx.onSocketClose(r),wx.closeSocket())}if(this.constructor!==n)return new n(e,i,a);o.call(this,e,i,a);var _=0,B=0,S=[],O=[],A=null,E=g,j=this;Object.defineProperties(this,{sendAndReceive:{value:b},close:{value:m}})}function i(e){var t=c(e);if("ws:"!==t.protocol&&"wss:"!==t.protocol)throw new Error("This client desn't support "+t.protocol+" scheme.")}function a(e,t,r){if("string"==typeof e)i(e);else{if(!Array.isArray(e))throw new Error("You should set server uri first!");e.forEach(function(e){i(e)})}return new n(e,t,r)}var u=e.BytesIO,o=e.Client,s=e.Future,c=e.parseuri,f=1,l=2,h=3,g=4;Object.defineProperty(n,"create",{value:a}),e.WebSocketClient=n}(hprose),function(e){"use strict";function t(e){this.version=e||"2.0"}var r=e.Tags,n=e.BytesIO,i=e.Writer,a=e.Reader,u=1;t.prototype.inputFilter=function(e){var t=n.toString(e);"{"===t.charAt(0)&&(t="["+t+"]");for(var a=JSON.parse(t),u=new n,o=new i(u,(!0)),s=0,c=a.length;s<c;++s){var f=a[s];f.error?(u.writeByte(r.TagError),o.writeString(f.error.message)):(u.writeByte(r.TagResult),o.serialize(f.result))}return u.writeByte(r.TagEnd),u.bytes},t.prototype.outputFilter=function(e){var t=[],i=new n(e),o=new a(i,(!1),(!1)),s=i.readByte();do{var c={};s===r.TagCall&&(c.method=o.readString(),s=i.readByte(),s===r.TagList&&(c.params=o.readListWithoutTag(),s=i.readByte()),s===r.TagTrue&&(s=i.readByte())),"1.1"===this.version?c.version="1.1":"2.0"===this.version&&(c.jsonrpc="2.0"),c.id=u++,t.push(c)}while(s===r.TagCall);return t.length>1?JSON.stringify(t):JSON.stringify(t[0])},e.JSONRPCClientFilter=t}(hprose),function(e){function t(e){return function(t){t=t||{};var n=new r;try{t.success=n.resolve,t.fail=n.reject,wx[e](t)}catch(e){n.reject(e)}return n}}var r=e.Future,n=["invoke","showNavigationBarLoading","hideNavigationBarLoading","navigateBack","drawCanvas","canvasToTempFilePath","hideKeyboard","getPublicLibVersion"];e.wx={};for(var i in wx)"function"==typeof wx[i]&&n.indexOf(i)<0&&i.search(/(^(on|create|stop|pause))|((Sync)$)/)<0?e.wx[i]=t(i):e.wx[i]=wx[i]}(hprose),hprose.common={Completer:hprose.Completer,Future:hprose.Future,ResultMode:hprose.ResultMode},hprose.io={BytesIO:hprose.BytesIO,ClassManager:hprose.ClassManager,Tags:hprose.Tags,RawReader:hprose.RawReader,Reader:hprose.Reader,Writer:hprose.Writer,Formatter:hprose.Formatter},hprose.client={Client:hprose.Client,HttpClient:hprose.HttpClient,WebSocketClient:hprose.WebSocketClient},hprose.filter={JSONRPCClientFilter:hprose.JSONRPCClientFilter},module.exports=hprose;